<%- include ("../partials/header") %>
<%- include ("../partials/main_nav") %>

<!-- Content for the Edit Course Page -->
<div class="containerCenter"> 
    <div class="col-md-offset-3 col-md-6"> 
        <h1 class="listTitle"><%= title %></h1> <br><br>
        <form class="form" method="POST" action="/courses/edit/<%= course._id %>">

            <!-- Course Name -->
            <div class="form-group">
                <label for="courseNameTextField">Course Name</label>
                <input type="text" class="form-control"
                    id="courseNameTextField"
                    placeholder="Enter Course Name"
                    name="courseName"
                    value="<%= course.courseName %>"
                    required>
            </div>

            <!-- Credits -->
            <div class="form-group">
                <label for="creditsTextField">Credits</label>
                <input type="number" class="form-control"
                    id="creditsTextField"
                    placeholder="Enter Course Credits"
                    name="credits"
                    value="<%= course.credits %>"
                    required min="0">
            </div>

            <!-- Instructor Dropdown -->
            <div class="form-group">
                <label for="instructorDropdown">Instructor</label>
                <select class="form-control" id="instructorDropdown" name="instructorId" required>
                    <% if (instructors && instructors.length > 0) { %>
                        <% instructors.forEach(instructor => { %>
                            <option value="<%= instructor._id %>" 
                                <%= instructor._id.toString() === course.instructorId.toString() ? 'selected' : '' %>>
                                <%= instructor.name %>
                            </option>
                        <% }) %>
                    <% } else { %>
                        <option value="">No instructors available</option>
                    <% } %>
                </select>
            </div>

            <!-- Grade -->
            <div class="form-group">
                <label for="gradeTextField">Grade</label>
                <input type="text" class="form-control"
                    id="gradeTextField"
                    placeholder="Enter Grade"
                    name="grade"
                    value="<%= course.grade %>">
            </div>

            <br>

            <!-- Submit Button -->
            <button class="btn btn-success fa-submitbtn" type="submit" style="background-color:#FFCC00;"> 
                <i class="fas fa-edit"></i> Apply Changes
            </button>

            <!-- Cancel Button -->
            <a href="/courses" class="btn fa-delete2">
                <i class="fas fa-undo"></i> Cancel 
            </a>
        </form>
    </div>
</div> 

<%- include ("../partials/footer") %>